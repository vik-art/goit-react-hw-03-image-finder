{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","App.module.css","services/images-api.js","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchQuery","page","axios","get","then","response","data","hits","modalRoot","document","querySelector","ModalWindow","handleKeydown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","src","alt","createPortal","className","s","overlay","onClick","modal","Component","ImageGalleryItem","state","showModal","toggleModal","setState","largeImageUrl","item","image","Modal","protoType","PropTypes","func","ImagesGallery","items","list","map","webformatURL","tags","largeImageURL","id","Searchbar","query","handleChange","value","handleSubmit","preventDefault","onSubmit","searchForm","type","autoComplete","autoFocus","onChange","searchFormInput","placeholder","searchFormButton","Button","button","LoaderMark","loader","color","height","width","timeout","App","isLoading","error","fetchImages","options","imagesAPI","prevState","catch","finally","onChangeQuery","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","showLoadButton","length","headling","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8376527f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1KVNk\",\"modal\":\"Modal_modal__1hYKL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1eJE6\",\"image\":\"ImageGalleryItem_image__Eu9E9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__2sqv7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2BQd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2brok\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headling\":\"App_headling__1DjbN\"};","import axios from 'axios';\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst KEY = \"19054520-393ac84072b3b2b1923495f82\"\r\nconst fetchImages = ({ searchQuery = '', page = 1 }) => {\r\nreturn axios\r\n        .get(`${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => response.data.hits)\r\n}\r\n// eslint-disable-next-line\r\nexport default { fetchImages }","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css'\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\")\r\n\r\nclass ModalWindow extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeydown)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeydown)\r\n    }\r\n    handleKeydown = e => {\r\n        if(e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n    handleBackdropClick = e => {\r\n        if(e.currentTarget === e.target) {\r\n            this.props.onClose()\r\n        }\r\n    }\r\nrender() {\r\n    const { src, alt } = this.props;\r\n    return createPortal (\r\n    <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n    <div className={s.modal}>\r\n    <img \r\n    src={src}\r\n    alt={alt}\r\n    />\r\n  </div>\r\n</div>,\r\nmodalRoot,\r\n    );\r\n}\r\n}\r\n\r\nModalWindow.propTypes = {\r\n    handleBackdropClick: PropTypes.func,\r\n    handleKeydown: PropTypes.func\r\n}\r\n\r\nexport default ModalWindow","import { Component } from 'react';\r\nimport ModalWindow from '../Modal'\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\nstate = {\r\n    showModal: false,\r\n}\r\ntoggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal}))\r\n  }\r\n    render() {\r\n        const { showModal } = this.state;\r\n        const { src, alt, largeImageUrl } = this.props;\r\n    return (\r\n    <>\r\n    <li className={s.item}>\r\n    <img \r\n    src={src} \r\n    alt={alt}\r\n    className={s.image}\r\n    onClick={this.toggleModal}\r\n    />\r\n    </li>\r\n    {showModal && <ModalWindow onClose={this.toggleModal} src={largeImageUrl} alt={alt}/>}\r\n    </>\r\n    )}\r\n}\r\n\r\nImageGalleryItem.protoType = {\r\n    toggleModal: PropTypes.func\r\n}\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGallery.module.css'\r\n\r\n\r\nconst ImagesGallery = ({ items }) => {\r\n        return (\r\n            <div>\r\n            <ul className={s.list}>\r\n                {items.map( item => (\r\n                    <ImageGalleryItem \r\n                    key={item.id} \r\n                    src={item.webformatURL} \r\n                    alt={item.tags} \r\n                    largeImageUrl={item.largeImageURL}\r\n                    />\r\n                ))}\r\n            </ul>\r\n        </div> \r\n        )\r\n}\r\n\r\nImagesGallery.propTypes = {\r\n    key: PropTypes.string,\r\n    src: PropTypes.string,\r\n    alt: PropTypes.string,\r\n    largeImageURL: PropTypes.string\r\n}\r\nexport default ImagesGallery;","import React, { Component } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: \"\"\r\n    }\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value })\r\n    }\r\n    handleSubmit = e => {\r\n        e.preventDefault()\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({query: \"\"});\r\n    }\r\n    render() {\r\n            return (\r\n                <header className=\"Searchbar\">\r\n                <form \r\n                onSubmit={this.handleSubmit} \r\n                className={s.searchForm}>\r\n                    <input \r\n                    type=\"text\" \r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    value={this.state.query} \r\n                    onChange={this.handleChange}\r\n                    className={s.searchFormInput}\r\n                    placeholder=\"Введите название картинки\"\r\n                    >\r\n                    </input>\r\n                    <button \r\n                    type=\"submit\"\r\n                    className={s.searchFormButton}\r\n                    ><span className=\"SearchForm-button-label\">Поиск</span></button>\r\n                </form>\r\n                </header>\r\n            )\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport s from './Button.module.css'\r\n\r\nconst Button = ( {onClick} ) => {\r\n return <button \r\n            type=\"button\" \r\n            onClick={onClick}\r\n            className={s.button}\r\n            >Load more</button>\r\n}\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport { Component } from 'react';\r\nimport s from './Loader.module.css'\r\n\r\nclass LoaderMark extends Component {\r\n  render() {\r\n    return (\r\n      <div className={s.loader}>\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"rgb(32, 236, 5)\"\r\n        height={100}\r\n        width={100}\r\n        timeout={2000}\r\n      />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default LoaderMark","import React, { Component } from 'react'\n\nimport imagesAPI from \"./services/images-api\";\n\nimport ImagesGallery from \"./components/ImageGallery\";\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport LoaderMark from './components/Loader';\n\nimport PropTypes from 'prop-types';\n\nimport s from './App.module.css'\n\n\nclass App extends Component {\n  state= {\n    hits: [],\n    page: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n}\ncomponentDidUpdate(prevProps, prevState) {\n    if(prevState.searchQuery !== this.state.searchQuery) {\n        this.fetchImages();\n    if (prevState.page !== this.state.page) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n    }\n  }\n}\nfetchImages = () => {\n    const { page, searchQuery, error } = this.state;\n    const options = { searchQuery, page, error };\n    this.setState({ isLoading: true });\n    imagesAPI\n    .fetchImages(options)\n    .then(hits => \n         this.setState(prevState => ({\n            hits: [...prevState.hits, ...hits],\n            page: prevState.page + 1,\n            })\n      ))\n            .catch(error => this.setState({ error: \"Что-то пошло не так. Попробуйте еще раз\" }))\n            .finally( () => this.setState({ isLoading: false}))\n         }\nonChangeQuery = query => {\n    this.setState({\n      searchQuery: query, \n      page: 1, \n      hits: [], \n      error: null})\n}\n\nrender() {\n    const { hits, isLoading, error } = this.state;\n    const showLoadButton = hits.length > 0 && !isLoading;\n  return (\n  <>\n    {error && <h1>Ошибка</h1>}\n    <h1 className={s.headling}>Изображения</h1>\n    <Searchbar onSubmit={this.onChangeQuery} />\n    {isLoading && <LoaderMark /> }\n    <ImagesGallery items = {hits}/>\n    {showLoadButton && <Button onClick={this.fetchImages}/>\n  }\n  </>\n  )}\n}\n\nApp.propTypes = {\n  fetchImages: PropTypes.func,\n  onChangeQuery: PropTypes.func,\n  onLoadMore: PropTypes.func\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"Searchbar_searchForm__3UVPn\",\"searchFormInput\":\"Searchbar_searchFormInput__2jtSQ\",\"searchFormButton\":\"Searchbar_searchFormButton__TWGvb\"};"],"sourceRoot":""}